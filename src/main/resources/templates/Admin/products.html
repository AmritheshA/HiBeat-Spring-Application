<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link th:href="@{/css/Admin/products.css}" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <title>Products</title>

</head>
<body>

<header th:replace="fragment :: admin-header">

</header>


<div class="row">
    <!-- Sidebar -->
    <nav th:replace="fragment :: admin-navbar">

    </nav>


    <!-- Main Content -->
    <div id="contents" class="col-md-9">
        <div id="content">

            <button id="sidebarCollapse" class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#sidebarNav"
                    aria-controls="sidebarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span> <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path
                        d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg> </span>
            </button>

            <main>
                <div class="content-header">
                    <h1>Products</h1>
                    <a th:href="@{/admin/add-product}" class="new-product">New Product</a>
                </div>
<!--                <form th:action="@{/admin/product/search-product}" method="get">-->
<!--                    <div class="search-box">-->
<!--                        <input type="text" placeholder="Search..." name="value">-->
<!--                        <button type="submit" class="action-link">Search</button>-->
<!--                    </div>-->
<!--                </form>-->

                <!--            <div class="select-date">-->
                <!--                Select Date-->
                <!--            </div>-->

                <table>
                    <thead>
                    <tr>
                        <th>ID</th>
                        <th>Product Name</th>
                        <th>Stock</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <!-- Use Thymeleaf to loop through your product data and display it in the table -->
                    <tr th:each="product : ${products}"
                        th:style="${product.status == 'IN-ACTIVE' ? 'background-color: #ffaaaa;' : 'background-color: #d4d4d4'}">
                        <td th:text="${product.id}"></td>
                        <td th:text="${product.name}"></td>
                        <td th:text="${product.stock}"></td>
                        <td th:text="${product.price}"></td>
                        <td th:text="${product.status}"
                            th:style="${product.status == 'IN-ACTIVE' ? 'color: red;' : 'white'}">
                        </td>
                        <td>
                            <!-- Style the action links as buttons -->
                            <a th:href="@{/admin/edit-product/{id}(id=${product.id})}" class="action-link">Edit</a>
                            <a th:href="@{/admin/disableproduct/{id}(id=${product.id})}" class="action-link">
                                [[${product.status == 'ACTIVE' ? 'Disable' : 'Enable'}]]
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <!-- Pagination controls -->
                <!--    <div class="pagination">-->
                <!--        <ul>-->
                <!--            <li th:if="${currentPage > 1}">-->
                <!--                <a th:href="@{/products(page=1)}">First</a>-->
                <!--            </li>-->
                <!--            <li th:if="${currentPage > 1}">-->
                <!--                <a th:href="@{/products(page=${currentPage - 1})}">Previous</a>-->
                <!--            </li>-->
                <!--            <li th:if="${currentPage < totalPages}">-->
                <!--                <a th:href="@{/products(page=${currentPage + 1})}">Next</a>-->
                <!--            </li>-->
                <!--            <li th:if="${currentPage < totalPages}">-->
                <!--                <a th:href="@{/products(page=${totalPages})}">Last</a>-->
                <!--            </li>-->
                <!--        </ul>-->
                <!--    </div>-->

            </main>


        </div>

    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
    });
</script>
</body>
</html>
